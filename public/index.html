<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>B | Assist</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/5.4.0/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/5.4.0/firebase-auth.js"></script>
    <script defer src="/__/firebase/5.4.0/firebase-database.js"></script>
    <script defer src="/__/firebase/5.4.0/firebase-messaging.js"></script>
    <script defer src="/__/firebase/5.4.0/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>
    <script src="./js/jquery.min.js"></script>
    <link rel="stylesheet" href="./css/a9era.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
      .panel{ display: flex; width: 50vw; min-height: 10vw; align-content: flex-start; }
      
      .panelDetail{ width: 50vw; }

      .line{ height: 25%; width: 100%; }

      .bItem{
        border-radius: 50%;
        width: 2vw;
        height: 2vw;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-family: sans-serif;
        font-weight: bold;
        font-size: 1.45vw;
        text-shadow: 2px 1px 3px black;
        -webkit-user-select:none;
        -khtml-user-select:none;
        -moz-user-select:none;
        -ms-user-select:none;
        -o-user-select:none;
        user-select:none;
      }
      .pbButton{
        transition: 0.1s;
        color: white;
        font-size: 1.45vw;
        font-family: sans-serif;
        -webkit-user-select:none;
        -khtml-user-select:none;
        -moz-user-select:none;
        -ms-user-select:none;
        -o-user-select:none;
        user-select:none;
      }

      .pbButton:hover{ cursor: pointer; font-size: 2.45vw; text-shadow: 3px 2px 1px black; }

      .pbButton:active{ font-size: 1.45vw; text-shadow: unset; }

      .dataInput{
        background-color: #2f2f2f;
        color: white;
        width: 100%;
        font-weight: bold;
        text-transform: uppercase;
      }

      .result{
        color: #00b159;
        font-size: 4.5vw;
        font-family: sans-serif;
        transition: 0.15s;
        -webkit-user-select:none;
        -khtml-user-select:none;
        -moz-user-select:none;
        -ms-user-select:none;
        -o-user-select:none;
        user-select:none;
      }

      .result:hover{
        font-size: 5.5vw;
      }

      .resultDetail{

      }

      .contentt{ overflow: auto; }

      .pbButtonPanel{ height: 12%; width: 100%; }
      
      .details{ height: 1%; width: 100%; }

      .balanceSec{
        height: 5%;
        width: 100%;
        font-size: 15pt;
        font-weight: bold;
        color: #00b159;
      }

      .addBalanceButton{
        margin-left: 10px;
        color: white;
        height: 100%;
        width: 3vw;
        transition: 0.15s;
        opacity: 0.9;
      }

      .addBalanceButton:hover{
        cursor: pointer;
        opacity: 1;
      }

      .addBalanceButton:active{
        opacity: 0.9;
      }

      .inmodalText{
        display: flex;
        width: 70%;
        color: #03d414;
        justify-content: flex-end;
        font-weight: bold;
        font-size: 6vw;
      }

      .setbuttonBalance{
        height: 2vw;
        width: 5vw;
        transition: 0.2s;
        background-color: limegreen;
        margin-top: 1vw;
      }

      .setbuttonBalance:hover{
        background-color: #249e24;
        cursor: pointer;
      }

      .simuLink_btn{
        width: 100%;
        height: 2vw;
        padding-right: 10%;
        color: white;
        cursor: pointer;
        transition: 0.2s;
        user-select: none;
      }
      .simuLink_btn:hover{
        height: 3vw;
      }

    </style>
  </head>
  <body>

    <!-- Modal -->
    <div class="fadeBlack" id="myModal">
      <div class="aModalPanel_S">
        <div class="aModalConsoleSec">
          <div class="aModal_Close">
            <i class="material-icons aModal_Close" style="font-size:25px" id="Mclose">clear</i>
          </div>
        </div>
        
        <div class="aFlex aRow">
          <div class="aFlex aCol">
            <div>Set Balance</div>
            <input type="number" class="aform" id="inputBaNum">
            <div class="setbuttonBalance aFlex aRow x2 y2" onclick="setB($('#inputBaNum').val())">SET</div>
          </div>
          <div class="inmodalText">
            <div id="balanceNum" style="transition: 1s;">0</div>
            <div style="margin-left: 1vw;">$</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Script -->
    <script>
      $("#myModal").hide(0);
      // open
      function openModal(){
        $("#myModal").show(0);
        $("#myModal").animate({opacity: '1'},300);
      }

      // close
      function closeModal(){
        $("#myModal").animate({opacity: '0'},300).delay(300).hide(0);
      }

      $( "#Mclose" ).click(function() {
        $("#myModal").animate({opacity: '0'},300).delay(300).hide(0);
      });

      $("#inputBaNum").on('keyup change',function(){
        $("#balanceNum").html($("#inputBaNum").val());
      });

      // setbalance
      function setB(value){
        setBalance(value);
        closeModal();
      }
    </script>

    <!-- TOP PARENT  -->
    <div class="aContent" style="background-color: rgb(32, 32, 49);">
      <!-- body -->
      <div class="aFlex aRow f-1">

          <!-- content -->
          <div class="aCol x2 f-5 contentt">
              <!----------------------------------------------------------------------------- line1 -->
              <div class="aFlex aRow x2 line">
                <!-- panel -->
                <div class="panel aCol">
                    <div class="aFlex aRow" id="4Row_1"></div>
                    <div class="aFlex aRow" id="4Row_2"></div>
                    <div class="aFlex aRow" id="4Row_3"></div>
                    <div class="aFlex aRow" id="4Row_4"></div>
                </div>
                <!-- consolePanel -->
                <div class="aFlex aCol f-1"></div>
                <!-- result -->
                <div class="aFlex aCol result f-1 x2 y2 back-black" id="4rowResult">
                  Wait
                </div>
              </div>
              <!----------------------------------------------------------------------------- line2 -->
              <div class="aFlex aRow x2 line">
                <!-- panel -->
                <div class="panel aCol">
                    <div class="aFlex aRow" id="dnaRow_1"></div>
                    <div class="aFlex aRow" id="dnaRow_2"></div>
                    <div class="aFlex aRow" id="dnaRow_3"></div>
                    <div class="aFlex aRow" id="dnaRow_4"></div>
                </div>
                <!-- consolePanel -->
                <div class="aFlex aCol f-1"></div>
                <!-- result -->
                <div class="aFlex aCol result f-1 x2 y2 back-black" id="dnaRowResult">
                  Wait
                </div>
              </div>
              <!----------------------------------------------------------------------------- line3 -->
              <div class="aFlex aRow x2 line">
                <!-- panel -->
                <div class="panel aCol">
                    <div class="aFlex aRow" id="advDnaRow_1"></div>
                    <div class="aFlex aRow" id="advDnaRow_2"></div>
                    <div class="aFlex aRow" id="advDnaRow_3"></div>
                    <div class="aFlex aRow" id="advDnaRow_4"></div>
                </div>
                <!-- consolePanel -->
                <div class="aFlex aCol f-1"></div>
                <!-- result -->
                <div class="aFlex aCol result f-1 x2 y2 back-black" id="advDnaRowResult">
                  Wait
                </div>
              </div>
              <!----------------------------------------------------------------------------- line4 -->
              <div class="details aFlex aRow">
                  <div class="panelDetail"></div>
                  <div class="aFlex aCol result f-1 x2 y2 back-green"></div>
                  <div class="aFlex aCol result f-1 x2 y2 back-yellow"></div>
              </div>
              <div class="aFlex aRow x2 line">
                <!-- panel -->
                <div class="panel aCol">
                    <div class="aFlex aRow" id="L4row_1"></div>
                    <div class="aFlex aRow" id="L4row_2"></div>
                    <div class="aFlex aRow" id="L4row_3"></div>
                    <div class="aFlex aRow" id="L4row_4"></div>
                </div>
                <!-- result -->
                <div class="aFlex aCol result f-1 x2 y2 back-black" id="L4rowSame">Wait</div>
                <div class="aFlex aCol result f-1 x2 y2 back-black" id="L4rowDiff">Wait</div>
              </div>
              

          </div>

          <!-- Nav -->
          <div class="aFlex aCol x2 back-green f-1">
              <!-- simulator link -->
              <div class="aFlex aRow x3 y2 simuLink_btn back-yellow" onclick="window.open('simulator.html', '_blank')">
                Bacara Simulator
              </div>
              <!-- Balance -->
              <div class="aFlex aRow balanceSec y2 x3 back-black">
                <div>0 $ </div>
                <div class="addBalanceButton aFlex aCol back-green x2 y2" onclick="openModal()"><i class="material-icons" style="font-size:30px">add</i></div>
              </div>
              <!-- P/B Button -->
              <div class="aFlex aRow pbButtonPanel">
                <div class="pbButton aRow aFlex x2 y2 back-blue f-1" onclick="PBadd('P')">P</div>
                <div class="pbButton aRow aFlex x2 y2 back-red f-1" onclick="PBadd('B')">B</div>
              </div>
              <!-- Input Data -->
              <input type="text" class="aform dataInput" id="baData" onkeypress="return checkBP();" onkeyup="fetch4row()" >
              <br>
              <input type="text" class="aform">
              <br>
              <input type="text" class="aform">
          </div>
          
      </div>

      <!-- onButtonPBClick -->
      <script>
        function PBadd(val){
          document.getElementById("baData").value += val;
          fetch4row();
        }
      </script>

      <!-- fetch4row -->
      <script>
        function fetch4row(){
          let baData = document.getElementById("baData").value;
          let baFet = baData.split("");
          let rowCount = 1;
          let colCount = 1;
          let row = document.getElementById("4Row_"+rowCount);

          for(i = 0;i<4;i++){
            row = document.getElementById("4Row_"+rowCount);
            row.innerHTML = ""
            rowCount = rowCount + 1;
          }

          rowCount = 1;
          colCount = 1;
          let curCol,curRow;
          for(i in baFet){
            row = document.getElementById("4Row_"+rowCount);
            if(baFet[i] == "B" || baFet[i] == "b"){
                row.innerHTML += '<div class="bItem back-red" id="c'+colCount+'r'+rowCount+'">B</div>';
                curCol = colCount
                curRow = rowCount
                rowCount += 1;
            }else if(baFet[i] == "P" || baFet[i] == "p"){
                row.innerHTML += '<div class="bItem back-blue" id="c'+colCount+'r'+rowCount+'">P</div>';
                curCol = colCount
                curRow = rowCount
                rowCount += 1;
            }
            if(rowCount == 5){rowCount = 1;colCount += 1;}
          }
          console.log('send: c'+(curCol-1)+'r'+curRow)
          calResult4row(curCol,curRow);
        }
      </script>

      <!-- test DATA -->
      <script>
        /*------------------------------------------*/
        /*-------------     ----    ----------------*/
        /*------------      TEST     ---------------*/
        /*------------      DATA     ---------------*/
        /*---------------          -----------------*/
        /*-----------------      -------------------*/
        /*-------------------  ---------------------*/
        /*------------------------------------------*/
        /*                                                                                r4      XO
        -BPPBBBBPPPPPBBBBBPBBBBPPPPBBBBBPPBPBBBBBBBBPBPPPPBBBBPBBPBBBBPBBPBBPBPBP-        9       4
        -PPPPPBBBBPPPPPBPBBBBPBBBPBPPPBBBPBBPBBBPPPPBBPBBPPBPPPPPBBPBBPBPBBBPPPPPPPB-     8       7
        -BBBBPBBBPPBBBBBPBPPPBBBBBPBBPBBBPBBPBBBBBPPBBBPBBBPBBPBBBPBPBPPPPPPBBBBB-        4       4
        -PBBBBPBPBBPBBBBBPPPBBBPPPPBPBPBPPBBPBBBBBPPPBPBBBBBPPPBBBBBPPBBPPBBBBBPPP-       3       3
        -PPPPPPBBPPBPBPPBBPBBBBBPPBBPPPBPBPPBPBPBBPPPBBPBBBBPBPPPPBPPBBBBBBBB -           4       5
        -PBBBPBPBPPPPBBBBBPPBBBBBBPBBPPBBBPBPPPBBPBPBBPBBBBPPPBBPPBPPBBBBBBBP-            5       5
        -BPPBBBPBBBBPBBBBPBPBPBBBPPBBBPBPPPPPPBBBPBPPPBBBPPBBPBBPPBBPPBPPBPPBBBBPPBB-     4       5
        -BBBBPPPBPPPPPPPPPBBBBPPBPPBBBBBPPBBPPPPBBBBPPPBPBPBPBBBPBPBBBPBBPBBBPBBBB-       6       4
        -PPBPPBPPBBPPPPPPPPPPBPBPBBPPBPPPBPBBBBBBBPPBPPPBPPPBPPBBPPPBPPPBBBBBPBBPBBBBB-   3       3
        -PPBPPBBPPBBPPPPBBBPPPPPPBPBBBBPBBBBPPPBPPPBPPBPPPPPBPPBPBBBBBBPBBPBB-            5       6
        -PBBBBBBBPPPPBPBPPBPPPBBPPBBBPPBBPPBBBPBBBBBBPPBPPPPBBPBBBPPBPBBPBPBPP-
        -PBPPBPPPPBPBBPPPBBPPBBPPPPPPBPPBBPBPPPBPPPPPBBPBBBPPBBPPBBPPPBBPBBBBBPB -
        -BPPPPPBPBPPBPBBBPBPBBBPPBPPBBBBBPBBPPPBPBPPPBPPPPBPPBPBBBBBPBPPBPPBBBP-
        -BBPBPPBBBBBPPBBBBBPBPBPBBBBPPPPBBBBPBPBPPPBBBPPBPPPPBBBPBBBPBPBBBBPPPPPPBBB-
        -BBBPPBPPPBPBPPBBPPBPBPPPBPPBPBPPBPBBBBPPBBBPBBBBBPPBPBPBBPBBPBBBBBBPBPPBBBPB-
        -PPPBBBBPBBBBBPPPBPPPBBBPPBBBPPPBPPBBPPPBPPPPPPPPBPPPBPBBPBPPPBBBBBBPBBBBBB -
        -BPBBPPPPPBBBBPBPBBPPBPBBBPBPPBPPPBPBBPPPBBBPBBBBPBBBBPBPPPPBBPPPPBPPPBB -
        -PPBPPPPBPBBPBBBBPBBBPPPBBBPBPBBBBPPPBBPPBBPBPBBBPBPBPBBBPPBBP-
        -PPPPBBPBBPPBBBPBBBBBBBPBPPBBPBBPBPBPPBBBBPPBPPPPPPPBPPBBPPPPBBBBPBP-
        -BPBBBPBBPPPBBBBBPPBBPPBPPBBBPBPBPPBPPBBBBPBBPPPBPPPPBPPBBPPBBBBBPPBPB -
        -BPPPBPPBPPPBPBBBBBPBBBPBBBBBBBPBPPPPBBPPPPBBBPBPPBPPPBBPBBBBBPPBBPPBB-
        -PBBBPBPPPBBBPPBPBBPBPPPPPPPBBBPBBBBBPPPPBBPBBBBPPPBPPBPBBPPBPBBBPPBBPBBPPBPBP-
        -BPBPBPBPBBBBBBBPBBPPPBPBBBPPPPBPPBPPPPPPPBBPBPBPBPPBBPPBBBBPPBBPBBBBPBB-
        -PPPBBBPBBPBBBBBBPBBPBPPBPPPBBPPBPPPBBBPBBBPBPPPBBBBBBBBBPBB-
        -PBBPBPPPPBPPBBPBPBPBBPPPBBPPPBPBPBPPBBPBBPBPBBPPPBPBBBBBPPPBBBBBBBPBBP-
        */
      </script>

      <!-- calResult4row -->
      <script>
        function calResult4row(curCol,curRow){
          
          if(curCol > 1 || curRow == 4){
            let nexRow;
            if (curRow == 4){
              calCur = curCol + 1;
              nexRow = 1;
            }else{
              calCur = curCol;
              nexRow = curRow + 1;
            }
            console.log('>:c'+(calCur-1)+'r'+nexRow)
            document.getElementById("4rowResult").innerHTML = document.getElementById('c'+(calCur-1)+'r'+nexRow).innerHTML;
            fetchXO(curCol,curRow);
          }else{
            document.getElementById("4rowResult").innerHTML = "Wait"
          }

        }
      </script>

      <!-- fetch X/O -->
      <script>
        function fetchXO(curCol,curRow){
          let calLoop,rowCount=1;
          
          for(i = 0;i<4;i++){
            row = document.getElementById("dnaRow_"+rowCount);
            row.innerHTML = ""
            rowCount = rowCount + 1;
          }

          if(curCol > 1){
            if(curCol > 2){
              calLoop = ((curCol - 2)*4) + curRow;
            }else{
              calLoop = curRow;
            }
            let fCol = 2;
            let fRow = 1;
            let dnaCurRow = 1, dnaCurCol = 1;
            
            for(i = 1;i <= calLoop; i++){
              row = document.getElementById("dnaRow_"+dnaCurRow);
              if(document.getElementById('c'+(fCol-1)+'r'+fRow).innerHTML == document.getElementById('c'+fCol+'r'+fRow).innerHTML){
                row.innerHTML += '<div class="bItem back-green" id="dna_c'+dnaCurCol+'r'+dnaCurRow+'">S</div>';  //same
              }else{
                row.innerHTML += '<div class="bItem back-yellow" id="dna_c'+dnaCurCol+'r'+dnaCurRow+'">D</div>'; //different
              }
              curCol = dnaCurCol
              curRow = dnaCurRow
              fRow++;
              dnaCurRow++;
              if(fRow == 5){fRow=1;fCol++;dnaCurRow=1;dnaCurCol++;}
            }
            calResultXO(curCol,curRow);
          }
        }
      </script>

      <!-- calResultX/O -->
      <script>
        function calResultXO(curCol,curRow){
          if(curCol > 1 || curRow == 4){
            let nexRow;
            if (curRow == 4){
              calCur = curCol + 1;
              nexRow = 1;
            }else{
              calCur = curCol;
              nexRow = curRow + 1;
            }
            r4Row = document.getElementById('c'+calCur+'r'+nexRow).innerHTML;
            rXO = document.getElementById('dna_c'+(calCur-1)+'r'+nexRow).innerHTML;
            let reXO='Wait';
            if(rXO == 'S'){
              if(r4Row == 'P'){
                reXO = 'P'
              }else if(r4Row == 'B'){
                reXO = 'B'
              }
            }else if(rXO == 'D'){
              if(r4Row == 'P'){
                reXO = 'B'
              }else if(r4Row == 'B'){
                reXO = 'P'
              }
            }
            document.getElementById("dnaRowResult").innerHTML = reXO;
            fetchADV(curCol,curRow);
          }else{
            document.getElementById("dnaRowResult").innerHTML = 'Wait';
          }
        }
      </script>

      <!-- fetch adv -->
      <script>
        function fetchADV(curCol,curRow){
          let calLoop,rowCount=1;
          
          for(i = 0;i<4;i++){
            row = document.getElementById("advDnaRow_"+rowCount);
            row.innerHTML = ""
            rowCount = rowCount + 1;
          }

          if(curCol > 1){
            if(curCol > 2){
              calLoop = ((curCol - 2)*4) + curRow;
            }else{
              calLoop = curRow;
            }
            let fCol = 2;
            let fRow = 1;
            let dnaCurRow = 1, dnaCurCol = 1;
            for(i = 1;i <= calLoop; i++){
              row = document.getElementById("advDnaRow_"+dnaCurRow);
              if(document.getElementById('dna_c'+(fCol-1)+'r'+fRow).innerHTML == document.getElementById('dna_c'+fCol+'r'+fRow).innerHTML){
                row.innerHTML += '<div class="bItem back-green" id="advDna_c'+dnaCurCol+'r'+dnaCurRow+'">S</div>';  //same
              }else{
                row.innerHTML += '<div class="bItem back-yellow" id="advDna_c'+dnaCurCol+'r'+dnaCurRow+'">D</div>'; //different
              }
              curCol = dnaCurCol
              curRow = dnaCurRow
              fRow++;
              dnaCurRow++;
              if(fRow == 5){fRow=1;fCol++;dnaCurRow=1;dnaCurCol++;}
            }
            calResultADV(curCol,curRow);
          }
        }
      </script>

      <!-- cal Result adv -->
      <script>
       function calResultADV(curCol,curRow){
        if(curCol > 1 || curRow == 4){
          let nexRow;
          if (curRow == 4){
            calCur = curCol + 1;
            nexRow = 1;
          }else{
            calCur = curCol;
            nexRow = curRow + 1;
          }
          r4Row = document.getElementById('c'+(calCur+1)+'r'+nexRow).innerHTML;
          rXO = document.getElementById('dna_c'+calCur+'r'+nexRow).innerHTML;
          rAdv = document.getElementById('advDna_c'+(calCur-1)+'r'+nexRow).innerHTML;
          // console.log("r4Row: " + r4Row + " rXO: " + rXO + " rAdv: " + rAdv);
          let reAdv='Wait';
          if(rAdv == 'S'){
            if(rXO == 'S'){
              if(r4Row == 'P'){
                reAdv = 'P'
              }else if(r4Row == 'B'){
                reAdv = 'B'
              }
            }else if(rXO == 'D'){
              if(r4Row == 'P'){
                reAdv = 'B'
              }else if(r4Row == 'B'){
                reAdv = 'P'
              }
            }
          }else if(rAdv == 'D'){
            if(rXO == 'S'){
              if(r4Row == 'P'){
                reAdv = 'B'
              }else if(r4Row == 'B'){
                reAdv = 'P'
              }
            }else if(rXO == 'D'){
              if(r4Row == 'P'){
                reAdv = 'P'
              }else if(r4Row == 'B'){
                reAdv = 'B'
              }
            }
          }
          document.getElementById("advDnaRowResult").innerHTML = reAdv;
          fetchL4(curCol,curRow)
        }else{
          document.getElementById("advDnaRowResult").innerHTML = 'Wait';
        }
       }
      </script>

      <!-- fetch L4 -->
      <script>
        function fetchL4(curCol,curRow){
          let calLoop,rowCount=1;
          
          for(i = 0;i<4;i++){
            row = document.getElementById("L4row_"+rowCount);
            row.innerHTML = ""
            rowCount = rowCount + 1;
          }

          if(curCol > 1){
            if(curCol > 2){
              calLoop = ((curCol - 2)*4) + curRow;
            }else{
              calLoop = curRow;
            }
            let fCol = 2;
            let fRow = 1;
            let dnaCurRow = 1, dnaCurCol = 1;
            for(i = 1;i <= calLoop; i++){
              row = document.getElementById("L4row_"+dnaCurRow);
              if(document.getElementById('advDna_c'+(fCol-1)+'r'+fRow).innerHTML == document.getElementById('advDna_c'+fCol+'r'+fRow).innerHTML){
                row.innerHTML += '<div class="bItem back-green" id="L4_c'+dnaCurCol+'r'+dnaCurRow+'">S</div>';  //same
              }else{
                row.innerHTML += '<div class="bItem back-yellow" id="L4_c'+dnaCurCol+'r'+dnaCurRow+'">D</div>'; //different
              }
              curCol = dnaCurCol
              curRow = dnaCurRow
              fRow++;
              dnaCurRow++;
              if(fRow == 5){fRow=1;fCol++;dnaCurRow=1;dnaCurCol++;}
            }
            calResultL4(curCol,curRow);
          }

        }
      </script>

      <!-- cal Result L4 -->
      <script>
        function calResultL4(curCol,curRow){
          if(curCol > 1 || curRow == 4){
            let nexRow;
            if (curRow == 4){
              calCur = curCol + 1;
              nexRow = 1;
            }else{
              calCur = curCol;
              nexRow = curRow + 1;
            }
            r4Row = document.getElementById('c'+(calCur+2)+'r'+nexRow).innerHTML;
            rXO = document.getElementById('dna_c'+(calCur+1)+'r'+nexRow).innerHTML;
            rAdv = document.getElementById('advDna_c'+calCur+'r'+nexRow).innerHTML;
            rL4 = document.getElementById('L4_c'+(calCur-1)+'r'+nexRow).innerHTML;
            console.log("r4Row: " + r4Row + " rXO: " + rXO + " rAdv: " + rAdv+ " rL4: " + rL4);
            let reL4_S='Wait';
            let reL4_D='Wait';
            if(rL4 == 'S'){
                if(rAdv == 'S'){
                    if(rXO == 'S'){
                        if(r4Row == 'P'){
                            reL4_S='P';
                            reL4_D='B';
                        }else if(r4Row == 'B'){
                            reL4_S='B';
                            reL4_D='P';
                        }
                    }else if(rXO == 'D'){
                        if(r4Row == 'P'){
                            reL4_S='B';
                            reL4_D='P';                            
                        }else if(r4Row == 'B'){
                            reL4_S='P';
                            reL4_D='B';
                        }
                    }
                }else if(rAdv == 'D'){
                    if(rXO == 'S'){
                        if(r4Row == 'P'){
                            reL4_S='B';
                            reL4_D='P';
                        }else if(r4Row == 'B'){
                            reL4_S='P';
                            reL4_D='B';
                        }
                    }else if(rXO == 'D'){
                        if(r4Row == 'P'){
                            reL4_S='P';
                            reL4_D='B';
                        }else if(r4Row == 'B'){
                            reL4_S='B';
                            reL4_D='P';
                        }
                    }
                }
            }else if(rL4 == 'D'){
                if(rAdv == 'S'){
                    if(rXO == 'S'){
                        if(r4Row == 'P'){
                            reL4_S='P';
                            reL4_D='B';                            
                        }else if(r4Row == 'B'){
                            reL4_S='B';
                            reL4_D='P';
                        }
                    }else if(rXO == 'D'){
                        if(r4Row == 'P'){
                            reL4_S='B';
                            reL4_D='P';
                        }else if(r4Row == 'B'){
                            reL4_S='P';
                            reL4_D='B';
                        }
                    }
                }else if(rAdv == 'D'){
                  if(rXO == 'S'){
                      if(r4Row == 'P'){
                          reL4_S='B';
                          reL4_D='P';                          
                      }else if(r4Row == 'B'){
                          reL4_S='P';
                          reL4_D='B';
                      }
                  }else if(rXO == 'D'){
                      if(r4Row == 'P'){
                          reL4_S='P';
                          reL4_D='B';                        
                      }else if(r4Row == 'B'){
                          reL4_S='B';
                          reL4_D='P';
                      }
                  }
              }
            }
            console.log(reL4_S+":"+reL4_D)
            document.getElementById("L4rowSame").innerHTML = reL4_S;
            document.getElementById("L4rowDiff").innerHTML = reL4_D;
          }else{
            document.getElementById("L4rowSame").innerHTML = 'Wait';
            document.getElementById("L4rowDiff").innerHTML = 'Wait';
          }
        }
      </script>


      <!-- checkBP -->
      <script>
        function checkBP(){

          if (event.keyCode == 80 || event.keyCode == 112 || event.keyCode == 66 || event.keyCode == 98 || event.keyCode == 8) 
            return true;
          else{
                return false;
            }
        }
      </script>

      <!-- balance -->
      <script>
        var myBalance = 0; //THB
        var undoList = [];
        
        function getBalance(){
          return myBalance;
        }

        function setBalance(value){
          myBalance = value;
          undoList.push(value);
        }

        function setWin(value){
          w = value;
          myBalance = myBalance + value;
          undoList.push(value);
        }

        function setLose(value){
          l = value;
          myBalance = myBalance - value;
          undoList.push(value);
        }

        function unDo(){
          undoList.pop();
          let last = undoList.pop();
          setBalance(last);
        }

      </script>

      <!-- kelly formula -->
      <script>
        // Default 1% of Balance
        var per = 1;

        function kellyWIN(){
          let curBalance = getBalance();
          let Win =  curBalance * (per/100);
          setWin(Win);
        }

        function kellyLose(){
          let curBalance = getBalance();
          let Win =  curBalance * (per/100);
          setWin(Win);
        }
      </script>

    </div>
  </body>
</html>
